(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f0f2b"],{"9f19":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-dialog",{attrs:{width:"100%",top:"0",fullscreen:!0,title:t.title,visible:t.isShow},on:{"update:visible":function(e){t.isShow=e}}},[n("template",{slot:"customButton"},[n("svg-icon",{attrs:{"icon-class":t.isFullscreen?"exit-fullscreen":"fullscreen"},on:{click:t.toggleFullScreen}})],1),n("trading-vue",{attrs:{id:"trading-vue-chart",data:t.chart,titleTxt:t.chartTitle,width:this.width,height:this.height,"color-back":t.colors.colorBack,"color-grid":t.colors.colorGrid,"color-text":t.colors.colorText},on:{dblclick:t.toggleFullScreen}})],2)},i=[],r=(n("99af"),n("d81d"),n("96cf"),n("1da1")),o=n("0042"),c=n.n(o),s=n("d4ec"),l=n("257e"),h=n("262e"),u=n("2caf"),d=n("ade3"),f=n("8eb9"),g=function(t){Object(h["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;Object(s["a"])(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(d["a"])(Object(l["a"])(t),"prefix","/stock_price"),t}return n}(f["a"]),m=n("93bf"),p=n.n(m),w=n("a9f9"),b={name:"TradingVueChart",extends:w["a"],components:{TradingVue:c.a},computed:{chartTitle:function(){return this.symbol},title:function(){return this.companyName?"".concat(this.symbol," - ").concat(this.companyName):this.symbol}},methods:{prepareWhenShowDialog:function(t){this.symbol=t.symbol,this.daterange=t.daterange,this.offchart=t.offchart,this.onchart=t.onchart,this.loadStockHistoricalPrice()},onResize:function(t){this.width=window.innerWidth,this.height=window.innerHeight-85},loadStockHistoricalPrice:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,i,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.symbol,a=function(t){return t&&t instanceof Date?t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+(t.getUTCDate()+1):""},i=a(t.daterange[0]),r=a(t.daterange[1]),!n){e.next=7;break}return o="/historical_price/all?symbol=".concat(t.symbol).concat(i?"&from_date=".concat(i):"").concat(r?"&to_date=".concat(r):""),e.next=5,t.api.request(o,"get");case 5:c=e.sent,c&&c.success&&setTimeout((function(){t.chart.chart.data=t.processChartData(c.data)}),500);case 7:case"end":return e.stop()}}),e)})))()},processChartData:function(t){var e=this;return t.map((function(t){var n=[];return n.push(e.normailzeDate(t.x)),n.append(t.y),n.push(100),n}))},normailzeDate:function(t){return new Date(t).getTime()},toggleFullScreen:function(){var t=document.getElementById("trading-vue-chart");p.a.request(t)},change:function(){this.isFullscreen=p.a.isFullscreen},init:function(){p.a.enabled&&p.a.on("change",this.change)},destroy:function(){p.a.enabled&&p.a.off("change",this.change)}},mounted:function(){this.init(),window.addEventListener("resize",this.onResize)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize),this.destroy()},data:function(){return this.api=new g,{isFullscreen:!1,chart:{symbol:"",daterange:[],offchart:[],onchart:[],chart:{data:[],type:"Candles"}},width:window.innerWidth,height:window.innerHeight-85,colors:{colorBack:"#fff",colorGrid:"#eee",colorText:"#333"}}}},v=b,y=n("2877"),k=Object(y["a"])(v,a,i,!1,null,null,null);e["default"]=k.exports}}]);