(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09fa38ea"],{1747:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("99af"),n("7db0"),n("4160"),n("a15b"),n("159b");var i=n("b85c"),a=n("5530"),o=n("d4ec"),r=n("bee2"),l=n("ade3"),s={less:" < ",eless:" <= ",greater:" > ",egreater:" >= ",equal:" = ",nequal:" <> ",equals:" = "},c=function(){function t(e){Object(o["a"])(this,t),Object(l["a"])(this,"filters",[]),Object(l["a"])(this,"count",0),this.filters=e}return Object(r["a"])(t,[{key:"add",value:function(t){var e=Object(a["a"])({},t);e.id=this.generateId(),this.filters.push(e)}},{key:"generateId",value:function(){return this.count++}},{key:"remove",value:function(t){var e=this.filters.find((function(e){return e.id===t.id}));e&&this.filters.remove(e)}},{key:"buildFilter",value:function(){var t,e=[],n=Object(i["a"])(this.filters);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=null;"input"!==a.value.typeValue&&(o=a.value.typeValue);var r={type:a.type,label:a.label,operation:a.operation.value,value:o||a.value.value};e.push(r)}}catch(l){n.e(l)}finally{n.f()}return e}}],[{key:"buildFilterDescription",value:function(t){var e=this,n=[];return t.forEach((function(t){var i=e.buildSingleFilterDescription(t);n.push(i)})),n.join(", ")}},{key:"buildSingleFilterDescription",value:function(t){var e="",n=t.operation;if(n in s){var i=s[n];e="".concat(t.label," ").concat(i," ").concat(t.value)}else e="".concat(t.label," ").concat(n," ").concat(t.value);return e}}]),t}()},"63ba":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("99af");var i=n("d4ec"),a=n("257e"),o=n("262e"),r=n("2caf"),l=n("ade3"),s=n("8eb9"),c=function(t){Object(o["a"])(n,t);var e=Object(r["a"])(n);function n(){var t;Object(i["a"])(this,n);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r)),Object(l["a"])(Object(a["a"])(t),"prefix","/notifications"),t}return n}(s["a"])},"7db0":function(t,e,n){"use strict";var i=n("23e7"),a=n("b727").find,o=n("44d2"),r=n("ae40"),l="find",s=!0,c=r(l);l in[]&&Array(1)[l]((function(){s=!1})),i({target:"Array",proto:!0,forced:s||!c},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o(l)},bdf1:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout-list",[n("template",{slot:"utility"},[n("div",{staticClass:"flex flex-end filter-container"},[n("base-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.create}},[t._v(" Add ")]),n("base-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.refresh}},[t._v(" Refresh ")])],1)]),n("template",{slot:"table"},[n("table-viewer",{ref:"tableData",attrs:{store:t.storeNotification,pagination:"",hasActionColumn:"",autoLoad:"",columns:t.columnsNotification},on:{dblclick:t.onDblClickTableRow},scopedSlots:t._u([{key:"actions",fn:function(e){var i=e.row;return[n("el-dropdown",{attrs:{"split-button":"",type:"primary",size:"small"},on:{click:function(e){return t.edit(i)}}},[t._v(" Edit "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("div",{on:{click:function(e){return t.view(i)}}},[t._v("View")])]),n("el-dropdown-item",[n("span",{on:{click:function(e){return t.deleteEntity(i)}}},[t._v("Delete")])])],1)],1)]}}])})],1)],2)},a=[],o=(n("d81d"),n("b489")),r=n("17df"),l=n("b34c"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-dialog",{attrs:{title:t.title,visible:t.isShow,width:"75%","before-close":t.handleClose},on:{"update:visible":function(e){t.isShow=e},shortkey:t.handleShortkeyAction}},[n("base-form",{ref:"dataForm",attrs:{inline:!0,rules:t.getFormRules(),model:t.currentItem,"label-position":"left","label-width":"150px"}},[n("base-form-item",{staticClass:"w-full",attrs:{label:"Description",prop:"description"}},[n("base-input",{staticClass:"w-full",attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",disabled:t.isViewing},model:{value:t.currentItem.description,callback:function(e){t.$set(t.currentItem,"description",e)},expression:"currentItem.description"}})],1),n("base-form-item",{staticClass:"w-2/3",attrs:{label:"Gmail",prop:"gmail"}},[n("base-input",{attrs:{disabled:t.isViewing},model:{value:t.currentItem.gmail,callback:function(e){t.$set(t.currentItem,"gmail",e)},expression:"currentItem.gmail"}})],1),n("base-form-item",{attrs:{label:"Send Gmail",prop:"send_gmail"}},[n("base-checkbox",{attrs:{disabled:t.isViewing},model:{value:t.currentItem.send_gmail,callback:function(e){t.$set(t.currentItem,"send_gmail",e)},expression:"currentItem.send_gmail"}})],1),n("base-form-item",{staticClass:"w-2/3",attrs:{label:"Telegram Chat ID",prop:"tg_chat_id"}},[t.currentItem.tg_chat_id?n("base-input",{attrs:{disabled:t.isViewing},model:{value:t.currentItem.tg_chat_id,callback:function(e){t.$set(t.currentItem,"tg_chat_id",e)},expression:"currentItem.tg_chat_id"}}):n("base-button",{attrs:{title:"Open link and send a message to get the telegram chat id"},on:{click:t.getTelegramChatID}},[t._v("Get Telegram ChatId")])],1),n("base-form-item",{attrs:{label:"Send Telegram",prop:"send_telegram"}},[n("base-checkbox",{attrs:{disabled:t.isViewing},model:{value:t.currentItem.send_telegram,callback:function(e){t.$set(t.currentItem,"send_telegram",e)},expression:"currentItem.send_telegram"}})],1),n("base-form-item",{staticClass:"w-full",attrs:{label:"Condition",prop:"condition"}},[t._v(" "+t._s(t.currentItem.condition_description)+" ")])],1),n("span",{staticClass:"dialog-footer flex flex-end",attrs:{slot:"footer"},slot:"footer"},[n("base-button",{on:{click:t.openChooseStockFilterDialog}},[t._v("Choose conditions")]),n("base-button",{on:{click:t.cancel}},[t._v("Cancel")]),t.isViewing?t._e():n("base-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("Save")])],1)],1)},c=[],u=(n("99af"),n("7db0"),n("4160"),n("a15b"),n("d3b7"),n("159b"),n("96cf"),n("1da1")),d=n("5530"),f=n("282a"),m=n("3465"),p=n("63ba"),b=n("a27b"),g=n("1747"),h={name:"DialogNotification",extends:f["a"],mixins:[m["a"]],data:function(){return{}},computed:{formName:function(){return"notification"}},methods:{getApi:function(){return new p["a"]},getFormRules:function(){return{gmail:[{required:!0,message:"Gmail is required",trigger:"blur"}]}},resetForm:function(){this.currentItem={description:"",gmail:"",send_gmail:!1,tg_chat_id:"",send_telegram:!1,condition_key:"",condition_description:""}},getPayloadForSave:function(){var t=Object(d["a"])({},this.currentItem);return t.condition_key=t.condition_key?JSON.stringify(t.condition_key):null,t},openChooseStockFilterDialog:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.component){e.next=4;break}return e.next=3,n.e("chunk-39f47e15").then(n.bind(null,"cf26"));case 3:t.component=e.sent;case 4:t.dialog||(i={options:{propsData:{caller:"dialog_notification"}},events:{close:t.onDialogChooseStockFiltersClose}},t.dialog=b["a"].prepareDialog(t.component,t,i)),a={},b["a"].showDialog(t.dialog,a);case 7:case"end":return e.stop()}}),e)})))()},onDialogChooseStockFiltersClose:function(t,e){"Confirm"===t&&(this.currentItem.condition_key=this.buildCondition(e.stockFilters,e.symbol),this.currentItem.condition_description=this.buildConditionDescription(this.currentItem.condition_key))},buildCondition:function(t,e){var n=t;if(e){var i=n.find((function(t){return"symbol"===t.type}));i?i.value=e:n.push({type:"symbol",operation:"equals",value:e})}var a=n.find((function(t){return"stock_date"===t.type}));return a?a.value=(new Date).toLocaleDateString("en-US"):n.push({type:"stock_date",operation:"equals",value:(new Date).toLocaleDateString("en-US")}),n},buildConditionDescription:function(t){var e="",n=[];return t.forEach((function(t){if("stock_date"!==t.type)if("symbol"===t.type)e=t.value;else{var i=g["a"].buildSingleFilterDescription(t);n.push(i)}})),"Symbol ".concat(e,": ").concat(n.join(", "))},getTelegramChatID:function(){window.open("https://web.telegram.org/#/im?p=@ncthanh_bot","_blank")}}},v=h,y=n("2877"),_=Object(y["a"])(v,s,c,!1,null,null,null),k=_.exports,w=n("fce8"),x={name:"ListNotification",extends:o["a"],components:{LayoutList:r["a"]},data:function(){return this.columnsNotification=l["d"],this.storeNotification=new w["a"]({proxy:{url:"/notifications",type:"remote"}}),{}},methods:{getApi:function(){return new p["a"]},getFormDetailComponent:function(){return k},onDblClickTableRow:function(t){this.edit(t)},getDataForExportExcel:function(){var t=["date","symbol","type","entry","exit","pnl","comment"];return this.formatJson(t)},formatJson:function(t){var e=this.tableContainer.store.getData();return e.map((function(e){return t.map((function(t){return"date"===t?parseTime(e[t]):e[t]}))}))},getHeaderForExportExcel:function(){return["date","symbol","type","entry","exit","pnl","comment"]},getFileNameExcel:function(){return"notification"}}},C=x,D=Object(y["a"])(C,i,a,!1,null,null,null);e["default"]=D.exports}}]);