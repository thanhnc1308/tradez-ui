(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e88f2ed0"],{"8eb9":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("99af");var r=n("d4ec"),i=n("bee2"),a=n("ade3"),c=n("e32c"),o=function(){function t(){Object(r["a"])(this,t),Object(a["a"])(this,"prefix",null),Object(a["a"])(this,"controller",null),this.service=c["a"]}return Object(i["a"])(t,[{key:"getUrl",value:function(){return this.prefix}},{key:"request",value:function(t,e,n){return this.service.request({url:this.getUrl()+t,method:e,data:n})}},{key:"getAll",value:function(){return this.service.request({url:this.getUrl(),method:"get"})}},{key:"getPaging",value:function(t){}},{key:"getById",value:function(t){var e=this.getFetchUrl(t);return this.service.request({url:e,method:"get"})}},{key:"getFetchUrl",value:function(t){return"".concat(this.getUrl(),"/").concat(t)}},{key:"post",value:function(t){return this.service.request({url:this.getUrl(),method:"post",data:t})}},{key:"put",value:function(t){var e=this.getPayloadId(t),n=this.getPutUrl(e);return this.service.request({url:n,method:"put",data:t})}},{key:"getPutUrl",value:function(t){return"".concat(this.getUrl(),"/").concat(t)}},{key:"getPayloadId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getIdProperty instanceof Function?t.getIdProperty():t["id"]}},{key:"delete",value:function(t){var e=this.getPayloadId(t),n=this.getDeleteUrl(e);return this.service.request({url:n,method:"delete"})}},{key:"getDeleteUrl",value:function(t){return"".concat(this.getUrl(),"/").concat(t)}}]),t}()},"9f19":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-dialog",{attrs:{width:"100%",top:"0",fullscreen:!0,title:t.title,visible:t.isShow},on:{"update:visible":function(e){t.isShow=e}}},[n("template",{slot:"customButton"},[n("svg-icon",{attrs:{"icon-class":t.isFullscreen?"exit-fullscreen":"fullscreen"},on:{click:t.toggleFullScreen}})],1),n("trading-vue",{attrs:{id:"trading-vue-chart",data:t.chart,titleTxt:t.chartTitle,width:this.width,height:this.height,"color-back":t.colors.colorBack,"color-grid":t.colors.colorGrid,"color-text":t.colors.colorText},on:{dblclick:t.toggleFullScreen}})],2)},i=[],a=(n("99af"),n("d81d"),n("96cf"),n("1da1")),c=n("0042"),o=n.n(c),s=n("d4ec"),l=n("257e"),u=n("262e"),h=n("2caf"),d=n("ade3"),f=n("8eb9"),g=function(t){Object(u["a"])(n,t);var e=Object(h["a"])(n);function n(){var t;Object(s["a"])(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(d["a"])(Object(l["a"])(t),"prefix","/stock_price"),t}return n}(f["a"]),v=n("93bf"),p=n.n(v),m=n("a9f9"),y={name:"TradingVueChart",extends:m["a"],components:{TradingVue:o.a},computed:{chartTitle:function(){return this.symbol},title:function(){return this.companyName?"".concat(this.symbol," - ").concat(this.companyName):this.symbol}},methods:{prepareWhenShowDialog:function(t){this.symbol=t.symbol,this.daterange=t.daterange,this.offchart=t.offchart,this.onchart=t.onchart,this.loadStockHistoricalPrice()},onResize:function(t){this.width=window.innerWidth,this.height=window.innerHeight-85},loadStockHistoricalPrice:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,i,a,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.symbol,r=function(t){return t&&t instanceof Date?t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+(t.getUTCDate()+1):""},i=r(t.daterange[0]),a=r(t.daterange[1]),!n){e.next=7;break}return c="/historical_price/all?symbol=".concat(t.symbol).concat(i?"&from_date=".concat(i):"").concat(a?"&to_date=".concat(a):""),e.next=5,t.api.request(c,"get");case 5:o=e.sent,o&&o.success&&setTimeout((function(){t.chart.chart.data=t.processChartData(o.data)}),500);case 7:case"end":return e.stop()}}),e)})))()},processChartData:function(t){var e=this;return t.map((function(t){var n=[];return n.push(e.normailzeDate(t.x)),n.append(t.y),n.push(100),n}))},normailzeDate:function(t){return new Date(t).getTime()},toggleFullScreen:function(){var t=document.getElementById("trading-vue-chart");p.a.request(t)},change:function(){this.isFullscreen=p.a.isFullscreen},init:function(){p.a.enabled&&p.a.on("change",this.change)},destroy:function(){p.a.enabled&&p.a.off("change",this.change)}},mounted:function(){this.init(),window.addEventListener("resize",this.onResize)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize),this.destroy()},data:function(){return this.api=new g,{isFullscreen:!1,chart:{symbol:"",daterange:[],offchart:[],onchart:[],chart:{data:[],type:"Candles"}},width:window.innerWidth,height:window.innerHeight-85,colors:{colorBack:"#fff",colorGrid:"#eee",colorText:"#333"}}}},b=y,w=n("2877"),k=Object(w["a"])(b,r,i,!1,null,null,null);e["default"]=k.exports}}]);